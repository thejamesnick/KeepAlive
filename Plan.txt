# KeepAlive Build Plan

## Technology Stack
- **Framework**: Next.js (App Router) - Handles both the UI and the API endpoint.
- **Language**: TypeScript
- **Package Manager**: Yarn
- **Styling**: Tailwind CSS (Strict "Black & White" minimalist theme, Squrcle cards, and proper model like Apple yh?)
- **Database**: Supabase (Postgres)
- **Auth**: Supabase Auth (GitHub or Email, Google)

---

## ðŸ“… Current Status (Dec 2025)
- **Frontend**: âœ… Complete (Landing, Dashboard, Wizard, Profile UI).
- **Design**: âœ… Complete (Minimalist, Apple-style).
- **Backend**: ðŸš§ Pending (Supabase Setup, API Routes).
- **Auth**: ðŸš§ Pending (Supabase Auth Integration).

---

## 1. Database Schema (Supabase) ðŸš§
### Table: `projects`
- `id` (uuid, primary key)
- `user_id` (uuid, foreign key to auth.users)
- `name` (text) - generic name e.g. "My Side Project"
- `slug` (text) - unique identifier for URLs
- `api_token` (text/uuid) - Warning: Shown once or hash stored? (For simplicity MVP: Store generated UUID)
- `last_ping_at` (timestamp)
- `status` (text) - 'active', 'at_risk', 'dead'
- `subscription_tier` (text) - 'free', 'pro' (Default: 'free')

### Table: `pings`
- `id` (uuid)
- `project_id` (uuid)
- `created_at` (timestamp)
- `success` (boolean)
- `latency` (int) - optional

---

## 2. API Endpoint (The Receiver) ðŸš§
path: `/app/api/ping`

**Logic:**
1. Receive POST request with `{ "project_id": "...", "status": "ok" }`.
2. Verify `Authorization` header matches the project's token.
3. Insert row into `pings` table.
4. Update `last_ping_at` on `projects` table.

---

## 3. Frontend Pages (Dashboard) âœ…

### A. Landing / Login âœ…
- Minimalist hero section: "Keep your free tiers alive."
- Login button (Supabase Auth connection pending).

### B. Main Dashboard (`/dashboard`) âœ…
- **Header**: "KeepAlive" logo (text only).
- **List of Projects**:
  - Grid Layout with Squircle Cards.
  - Status Indicators (Pulse Dot).
  - Copy/View Credentials functionality.

### C. "New Project" Flow (Wizard) âœ…
- **Step 1**: Create (Name Input).
- **Step 2**: Secrets (Credentials Display).
  - `KEEPALIVE_PROJECT_ID`
  - `KEEPALIVE_TOKEN`
  - `KEEPALIVE_ENDPOINT`
- **Step 3**: Workflow (YAML Generation).
  - Dynamic Cron Schedule (Randomized minute 0-59).
  - Copy-ready code block.

### D. Settings / Profile âœ…
- Profile Dropdown (User/Signout).
- Settings Modal (Placeholder for future account management).

---

## 4. Visual Design Rules âœ…
- Background: `#ffffff` (White)
- Text: `#000000` (Black)
- **Components**: Apple-style "Squircle" cards (smooth corners).
- **Typography**: Inter (UI) + Geist Mono (Code).
